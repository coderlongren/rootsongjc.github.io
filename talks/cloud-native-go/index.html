<!DOCTYPE html>
<html class="no-js" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
    <meta charset="utf-8">
    <meta name="baidu-site-verification" content="g8IYR9SNLF" />
    <meta name="uyan_auth" content="419f63884b" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="description" content="">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="keywords" content="book, golang, microservice, cloud native, docker, ">

 
<meta property="og:type" content="article"/>
<meta property="og:description" content=""/>
<meta property="og:title" content="Cloud Native Go - 基于Go和React的web云服务构建指南 : rootsongjc.github.io"/>
<meta property="og:site_name" content="rootsongjc is Jimmy Song"/>
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="http://rootsongjc.github.io/talks/cloud-native-go/">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2017-03-03"/>
<meta property="article:modified_time" content="2017-03-03"/>



<meta property="article:tag" content="book">
<meta property="article:tag" content="golang">
<meta property="article:tag" content="microservice">
<meta property="article:tag" content="cloud native">
<meta property="article:tag" content="docker">




<meta name="twitter:card" content="summary">

<meta name="twitter:site" content="@rootsongjc">
<meta name="twitter:title" content="Cloud Native Go - 基于Go和React的web云服务构建指南 : rootsongjc.github.io">
<meta name="twitter:creator" content="@rootsongjc">
<meta name="twitter:description" content="">
<meta name="twitter:image:src" content="">
<meta name="twitter:domain" content="rootsongjc.github.io">

    <base href="http://rootsongjc.github.io/">
    <title> Cloud Native Go - 基于Go和React的web云服务构建指南 - Jimmy Song </title>
    <link rel="canonical" href="http://rootsongjc.github.io/talks/cloud-native-go/">

    
<link rel="stylesheet" href="/static/css/style.css">
<script src="https://yandex.st/highlightjs/8.0/highlight.min.js"></script>
<link rel="stylesheet" href="https://yandex.st/highlightjs/8.0/styles/default.min.css">
<script>hljs.initHighlightingOnLoad();</script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?11f7d254cfa4e0ca44b175c66d379ecc";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <script type="text/javascript" src="http://tajs.qq.com/stats?sId=61142324" charset="UTF-8"></script>
</head>

<body lang="en" itemscope itemtype="http://schema.org/Article">
<header id="header">
    <figure>
      <a href="/" border=0 id="logolink"><div class="icon-octocat" id="logo"> </div></a>
    </figure>
    <div id="byline">by Jimmy Song</div>
    <nav id="nav">
            <ul id="mainnav">
            <li>
                <a href="/blogs/">
                <span class="icon"> <i aria-hidden="true" class="icon-quill"></i></span>
                <span> blogs </span>
            </a>
            </li>
            <li>
            <a href="/projects/">
                <span class="icon"> <i aria-hidden="true" class="icon-console"></i></span>
                <span> projects </span>
            </a>
            </li>
            <li>
            <a href="/talks/">
                <span class="icon"> <i aria-hidden="true" class="icon-stats"></i></span>
                <span> talks </span>
            </a>
            </li>
            <li>
            <a href="http://www.linkedin.com/in/rootsongjc">
                <span class="icon"> <i aria-hidden="true" class="icon-linkedin"></i></span>
                <span> me </span>
            </a>
            </li>
        </ul>

            <ul id="social">
            <li id="share">
                <span class="icon icon-bubbles"> </span>
                <span class="title"> share </span>
                <div class="dropdown share">
                    <ul class="social">
                      <li> <a href="https://twitter.com/intent/tweet?status=Cloud%20Native%20Go%20-%20%e5%9f%ba%e4%ba%8eGo%e5%92%8cReact%e7%9a%84web%e4%ba%91%e6%9c%8d%e5%8a%a1%e6%9e%84%e5%bb%ba%e6%8c%87%e5%8d%97-http%3a%2f%2frootsongjc.github.io%2ftalks%2fcloud-native-go%2f" target="_blank" title="Follow me on Twitter" class="twitter"><span class="icon icon-twitter"></span>Twitter</a> </li>
                        <li> <a href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2frootsongjc.github.io%2ftalks%2fcloud-native-go%2f" target="_blank" title="Join me on Facebook" class="facebook"><span class="icon icon-facebook"></span>Facebook</a> </li>
                        <li> <a href="https://plus.google.com/share?url=http%3a%2f%2frootsongjc.github.io%2ftalks%2fcloud-native-go%2f" target="_blank" title="Google+" class="googleplus"><span class="icon icon-google-plus"></span>Google+</a> </li>
                        <li> <a href="http://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2frootsongjc.github.io%2ftalks%2fcloud-native-go%2f&title=Cloud%20Native%20Go%20-%20%e5%9f%ba%e4%ba%8eGo%e5%92%8cReact%e7%9a%84web%e4%ba%91%e6%9c%8d%e5%8a%a1%e6%9e%84%e5%bb%ba%e6%8c%87%e5%8d%97&source=spf13" target="_blank" title="LinkedIn" class="linkedin"><span class="icon icon-linkedin"></span>LinkedIn</a> </li>
                        <li> <a href="http://del.icio.us/post?url=http%3a%2f%2frootsongjc.github.io%2ftalks%2fcloud-native-go%2f" target="_blank" title="Delicious" class="delicious"><span class="icon icon-delicious"></span>Delicious</a> </li>
                        <li> <a href="http://www.reddit.com/submit?url=http%3a%2f%2frootsongjc.github.io%2ftalks%2fcloud-native-go%2f" target="_blank" title="Reddit" class="reddit"><span class="icon icon-reddit"></span>Reddit</a> </li>
                    </ul>
                    <span class="subcount">sharing is caring</span>
                </div>
            </li>
            <li id="follow">
                <span class="icon icon-rocket"> </span>
                <span class="title"> follow </span>
                <div class="dropdown follow">
                    <ul class="social">
                        <li> <a href="http://www.twitter.com/rootsongjc" target="_blank" title="Follow me on Twitter" class="twitter"><span class="icon icon-twitter"></span>Twitter</a> </li>
                        <li> <a href="http://www.facebook.com/rootsongjc" target="_blank" title="Join me on Facebook" class="facebook"><span class="icon icon-facebook"></span>Facebook</a> </li>
                        <li> <a href="http://www.linkedin.com/in/rootsongjc" target="_blank" title="LinkedIn" class="linkedin"><span class="icon icon-linkedin"></span>LinkedIn</a> </li>
                        <li> <a href="http://github.com/rootsongjc" target="_blank" title="GitHub" class="github"><span class="icon icon-github"></span>GitHub</a> </li>
                        <li> <a href="https://www.douban.com/people/deamonj/" target="_blank" title="豆瓣" class="facebook"><span class="icon icon-idea"></span>Douban</a> </li>
                        <li> <a href="https://tuchong.com/1425795/" target="_blank" title="图虫" class="github"><span class="icon icon-cc-2"></span>Tuchong</a> </li>                    </ul>
                    <span class="subcount">join 10k+ subscribers &amp; followers</span>
                </div>
            </li>
          </ul>

    </nav>
</header>



<section id="main">
  <h1 itemprop="name" id="title">Cloud Native Go - 基于Go和React的web云服务构建指南</h1>
  <div>
        <article itemprop="articleBody" id="content">
           

<p><img src="http://olz1di9xf.bkt.clouddn.com/20160326003.jpg" alt="北京植物园桃花" /></p>

<p><em>(题图：北京植物园桃花 Mar 26,2016)</em></p>

<p>更新于Apr 3,2017</p>

<p>最近在翻译Kevin Hoffman和Dan Nemeth的书《Cloud Native Go - 基于Go和React的web云服务构建指南》。目前已经完成图书的翻译，已交给编辑校对。本书将由<strong>电子工业出版社</strong>出版。</p>

<h2 id="简介">简介</h2>

<p>Cloud Native Go向开发人员展示如何构建大规模云应用程序，在满足当今客户的强大需求的同时还可以动态扩展来处理几乎任何规模的数据量、流量或用户。</p>

<p>Kevin Hoffman和Dan Nemeth详细描述了现代云原生应用程序，阐明了与快速、可靠的云原生开发相关的因素、规则和习惯。他们还介绍了Go这种“简单优雅”的高性能语言，它特别适合于云开发。</p>

<p>在本书中你将使用Go语言创建微服务，使用ReactJS和Flux添加前端Web组件，并掌握基于Go的高级云原生技术。Hoffman和Nemeth展示了如何使用Wercker、Docker和Dockerhub等工具构建持续交付管道; 自动推送应用程序到平台上; 并系统地监控生产中的应用程序性能。</p>

<ul>
<li>学习“云之道”：为什么开发好的云软件基本上是关于心态和规则</li>
<li>了解为什么使用Go语言是云本地微服务开发的理想选择</li>
<li>规划支持持续交付和部署的云应用程序</li>

<li><p>设计服务生态系统，然后以test-first的方式构建它们</p></li>

<li><p>将正在进行的工作推送到云</p></li>

<li><p>使用事件源和CQRS模式来响应大规模和高吞吐量</p></li>

<li><p>安全的基于云的Web应用程序：做与不做的选择</p></li>

<li><p>使用第三方消息传递供应商创建响应式云应用程序</p></li>

<li><p>使用React和Flux构建大规模，云友好的GUI</p></li>

<li><p>监控云中的动态扩展，故障转移和容错</p></li>
</ul>

<p>下面先罗列下目录，以飨读者。</p>

<h2 id="目录">目录</h2>

<p>Cloud Native Go. 1</p>

<p>构建基于Go和React的云原生Web应用&hellip; 1</p>

<p>云服务构建完全指南&hellip; 1</p>

<p>目录&hellip; 4</p>

<p>前言&hellip; 8</p>

<p>关于作者&hellip; 9</p>

<p>致谢&hellip; 9</p>

<h3 id="第1章-云之道-10">第1章        云之道&hellip; 10</h3>

<p>云的优势&hellip; 10</p>

<p>崇尚简洁&hellip; 11</p>

<p>测试优先，测试一切&hellip; 11</p>

<p>尽早发布, 频繁发布&hellip; 12</p>

<p>自动化一切&hellip; 13</p>

<p>建立服务生态系统&hellip; 13</p>

<p>为什么使用GO?. 14</p>

<p>总结&hellip; 15</p>

<h3 id="第2章-开始-16">第2章        开始… 16</h3>

<p>正确的工具&hellip; 16</p>

<p>配置Git 16</p>

<p>建立Go. 18</p>

<p>配置您的Go工作区&hellip; 18</p>

<p>检查环境&hellip; 19</p>

<p>总结&hellip; 19</p>

<h3 id="第3章-go入门-20">第3章        Go入门&hellip; 20</h3>

<p>建立Hello Cloud. 20</p>

<p>使用基本函数&hellip; 21</p>

<p>使用结构体&hellip; 23</p>

<p>介绍Go接口&hellip; 24</p>

<p>向结构体添加方法&hellip; 24</p>

<p>Go中的接口动态类型检查&hellip; 25</p>

<p>使用第三方包&hellip; 27</p>

<p>创建自己的包&hellip; 28</p>

<p>导出函数和数据&hellip; 28</p>

<p>创建包&hellip; 28</p>

<p>总结&hellip; 30</p>

<h3 id="第4章-持续交付-31">第4章        持续交付&hellip; 31</h3>

<p>Docker介绍&hellip; 31</p>

<p>为什么要使用Docker？&hellip; 31</p>

<p>安装Docker 32</p>

<p>运行Docker镜像&hellip; 33</p>

<p>与Wercker的持续集成&hellip; 33</p>

<p>持续集成最佳实践&hellip; 34</p>

<p>为什么使用Wercker？&hellip; 34</p>

<p>安装Wercker CLI 36</p>

<p>创建Wercker配置文件&hellip; 36</p>

<p>使用Wercker进行构建&hellip; 40</p>

<p>部署到DockerHub. 41</p>

<p>读者练习：创建完整的开发管道&hellip; 42</p>

<p>高级挑战：集成第三方库&hellip; 42</p>

<p>总结&hellip; 43</p>

<h3 id="第5章-在go中构建微服务-44">第5章        在Go中构建微服务&hellip; 44</h3>

<p>设计API First的服务&hellip; 44</p>

<p>通过Apiary测试和发布文档&hellip; 46</p>

<p>架设微服务&hellip; 46</p>

<p>构建Test First的服务&hellip; 48</p>

<p>创建第一个失败测试&hellip; 49</p>

<p>测试Location Header 51</p>

<p>壮丽的蒙太奇 - 迭代测试&hellip; 52</p>

<p>在云中部署和运行&hellip; 53</p>

<p>总结&hellip; 55</p>

<h3 id="第6章-运用后端服务-56">第6章        运用后端服务&hellip; 56</h3>

<p>设计服务系统&hellip; 56</p>

<p>测试优先构建依赖服务&hellip; 57</p>

<p>构建Fulfillment服务&hellip; 57</p>

<p>构建Catalog服务&hellip; 60</p>

<p>在服务之间共享结构化数据&hellip; 64</p>

<p>使用服务捆绑去外部化地址与元数据&hellip; 65</p>

<p>服务发现&hellip; 67</p>

<p>读者练习&hellip; 69</p>

<p>总结&hellip; 70</p>

<h3 id="第7章-构建数据服务-71">第7章        构建数据服务&hellip; 71</h3>

<p>构建MongoDB存储库&hellip; 71</p>

<p>集成测试一个Mongo-Backed服务&hellip; 76</p>

<p>在云中运行&hellip; 80</p>

<p>总结&hellip; 81</p>

<h3 id="第8章-事件源和cqrs-83">第8章        事件源和CQRS.. 83</h3>

<p>现实源自事件&hellip; 83</p>

<p>最终还是一致的&hellip; 85</p>

<p>介绍命令查询责任分离&hellip; 86</p>

<p>事件源案例&hellip; 87</p>

<p>代码示例：管理无人机军队&hellip; 88</p>

<p>构建命令处理程序服务&hellip; 88</p>

<p>构建事件处理器&hellip; 92</p>

<p>构建查询处理程序服务&hellip; 95</p>

<p>总结&hellip; 96</p>

<h3 id="第9章-使用go构建web应用程序-97">第9章 使用Go构建web应用程序&hellip; 97</h3>

<p>处理静态文件和资产&hellip; 97</p>

<p>支持javascript客户端&hellip; 98</p>

<p>使用服务端模板&hellip; 100</p>

<p>处理表单&hellip; 102</p>

<p>使用Cookie和会话状态&hellip; 102</p>

<p>使用Wercker构建和部署&hellip; 104</p>

<p>总结&hellip; 105</p>

<h3 id="第10章-云安全-106">第10章 云安全&hellip; 106</h3>

<p>保护一个web应用程序&hellip; 106</p>

<p>保护微服务&hellip; 111</p>

<p>隐私和数据安全&hellip; 113</p>

<p>阅读练习&hellip; 114</p>

<p>总结&hellip; 115</p>

<h3 id="第11章-使用websockets-116">第11章 使用WebSockets. 116</h3>

<p>解析WebSockets. 116</p>

<p>WebSockets和云的诞生&hellip; 117</p>

<p>使用消息传递提供程序构建WebSocket应用程序&hellip; 119</p>

<p>总结&hellip; 122</p>

<h3 id="第12章-使用react构建web视图-123">第12章 使用React构建web视图… 123</h3>

<p>JavaScript State of the Union JavaScript  . 123</p>

<p>为什么选择React？&hellip; 123</p>

<p>React应用程序的解剖&hellip; 125</p>

<p>构建一个简单的React应用程序&hellip; 127</p>

<p>测试React应用程序&hellip; 132</p>

<p>进一步阅读&hellip; 132</p>

<p>总结. 133</p>

<h3 id="第13章-使用flux构建高可扩展性ui-134">第13章      使用Flux构建高可扩展性UI 134</h3>

<p>Flux介绍&hellip; 134</p>

<p>创建Flux应用程序&hellip; 136</p>

<p>总结&hellip; 141</p>

<h3 id="第14章-创建完整应用world-of-fluxcraft-143">第14章      创建完整应用World of FluxCraft 143</h3>

<p>World of FluxCraft介绍&hellip; 143</p>

<p>架构概览&hellip; 145</p>

<p>Flux GUI 146</p>

<p>命令处理&hellip; 148</p>

<p>事件处理&hellip; 149</p>

<p>维持现实服务的状态&hellip; 149</p>

<p>地图管理&hellip; 150</p>

<p>自动验收测试&hellip; 150</p>

<p>总结&hellip; 151</p>

<h3 id="第15章-结论-152">第15章     结论&hellip; 152</h3>

<p>我们学到了什么？&hellip; 152</p>

<p>下一步&hellip; 153</p>

<h3 id="a云应用的故障排查-154">A云应用的故障排查… 154</h3>

<p>使用日志流&hellip; 154</p>

<p>健康和性能监控&hellip; 154</p>

<p>在云中调试应用程序&hellip; 155</p>

        </article>
  </div>
</section>



<aside id="meta">

    <div>
        <section id="datecount">
          <h4 id="date"> Fri Mar 3, 2017 </h4>
          <h5 id="wc"> 400 Words </h5>
          <h5 id="readtime"> Read in about 2 Min </h5>
        </section>
        <ul id="categories">
          
        </ul>
        <ul id="tags">
          
            <li> <a href="http://rootsongjc.github.io//tags/book">book</a> </li>
          
            <li> <a href="http://rootsongjc.github.io//tags/golang">golang</a> </li>
          
            <li> <a href="http://rootsongjc.github.io//tags/microservice">microservice</a> </li>
          
            <li> <a href="http://rootsongjc.github.io//tags/cloud-native">cloud native</a> </li>
          
            <li> <a href="http://rootsongjc.github.io//tags/docker">docker</a> </li>
          
        </ul>
    </div>

    <div>
        <section id="prev">
            &nbsp;<a class="previous" href="http://rootsongjc.github.io/blogs/docker-dev-env/"><i class="icon-arrow-left"></i> Docker源码编译和开发环境搭建</a><br>
        </section><section id="next">
            &nbsp;<a class="next" href="http://rootsongjc.github.io/resume/">Jimmy Song&#39;s Resume <i class="icon-arrow-right"></i></a>
        </section>
    </div>

    <div>
        <section id="author">
             <h4>About the Author:</h4>
            <p>
            <a href="http://rootsongjc.github.io/about/">Jimmy Song</a> is a software engineer living in Beijing, he usually likes to hack on open source softwares, traveling and photographing. He is familiar with Java, python, golang, PAAS, hadoop and docker ecosystem. He took photos particularly sticky,<a href=https://tuchong.com/1425795/>Jimmy's tuchong homepage</a>.
            He has recently been keen on micro-services, DevOps, Kubernetes, TensorFlow and software architecture research.
            </p>
        </section>

</div>

</aside>

<meta itemprop="wordCount" content="336">
<meta itemprop="datePublished" content="2017-03-03">
<meta itemprop="url" content="http://rootsongjc.github.io/talks/cloud-native-go/">


<aside id=comments>
    <div><h2> Comments </h2></div>
    
    <div id="uyan_frame"></div>
    <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2126256"></script>
    
</aside>

<footer>
  <div>
    <p>
    &copy; 2013-2017 <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Jimmy Song</span></span>
    Powered by <a href="http://gohugo.io">Hugo</a>.
    </p>
  </div>
</footer>
</body>
</html>

