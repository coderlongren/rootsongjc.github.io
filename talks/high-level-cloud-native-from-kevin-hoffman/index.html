<!DOCTYPE html>
<html class="no-js" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">

<head>
    <meta charset="utf-8">
    <meta name="baidu-site-verification" content="g8IYR9SNLF" />
    <meta name="uyan_auth" content="419f63884b" /> <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="description" content="">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="keywords" content="cloud-native, ">

 
<meta property="og:type" content="article"/>
<meta property="og:description" content=""/>
<meta property="og:title" content="High Level Cloud Native From Kevin Hoffman : jimmysong.io"/>
<meta property="og:site_name" content="rootsongjc is Jimmy Song"/>
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="https://jimmysong.io/talks/high-level-cloud-native-from-kevin-hoffman/">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2017-09-15"/>
<meta property="article:modified_time" content="2017-09-15"/>



<meta property="article:tag" content="cloud-native">




<meta name="twitter:card" content="summary">

<meta name="twitter:site" content="@rootsongjc">
<meta name="twitter:title" content="High Level Cloud Native From Kevin Hoffman : jimmysong.io">
<meta name="twitter:creator" content="@rootsongjc">
<meta name="twitter:description" content="">
<meta name="twitter:image:src" content="">
<meta name="twitter:domain" content="jimmysong.io">

    <base href="https://jimmysong.io/">
    <title> High Level Cloud Native From Kevin Hoffman - jimmysong.io focus on Cloud Native & Big Data </title>
    <link rel="canonical" href="https://jimmysong.io/talks/high-level-cloud-native-from-kevin-hoffman/"> <link rel="stylesheet" href="https://jimmysong.io/static/css/style.css">


<link href="https://jimmysong.io/static/css/prism.css" rel="stylesheet" />
<script type="text/javascript" src="https://jimmysong.io/static/js/prism.js"></script>


<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?11f7d254cfa4e0ca44b175c66d379ecc";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>




    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
</head>


<body lang="en" itemscope itemtype="http://schema.org/Article">
    <header id="header">
    <figure>
      <a href="/" border=0 id="logolink"><div class="icon-octocat" id="logo"> </div></a>
    </figure>
    <div id="byline">by Jimmy Song</div>
    <nav id="nav">
    <ul id="mainnav">
    <li>
        <a href="/blogs/">
            <span class="icon"> <i aria-hidden="true" class="icon-quill"></i></span>
            <span> blogs </span>
        </a>
    </li>
    <li>
        <a href="/projects/">
            <span class="icon"> <i aria-hidden="true" class="icon-console"></i></span>
            <span> projects </span>
        </a>
    </li>
    <li>
        <a href="/talks/">
            <span class="icon"> <i aria-hidden="true" class="icon-stats"></i></span>
            <span> talks </span>
        </a>
    </li>
    <li>
        <a href="http://www.linkedin.com/in/rootsongjc">
            <span class="icon"> <i aria-hidden="true" class="icon-linkedin"></i></span>
            <span> me </span>
        </a>
    </li>
</ul>
    <ul id="social">
    <li id="share">
        <span class="icon icon-bubbles"> </span>
        <span class="title"> share </span>
        <div class="dropdown share">
            <ul class="social">
                <li> <a href="https://twitter.com/intent/tweet?status=High%20Level%20Cloud%20Native%20From%20Kevin%20Hoffman-https%3a%2f%2fjimmysong.io%2ftalks%2fhigh-level-cloud-native-from-kevin-hoffman%2f" target="_blank" title="Follow me on Twitter" class="twitter"><span class="icon icon-twitter"></span>Twitter</a> </li>
                <li> <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fjimmysong.io%2ftalks%2fhigh-level-cloud-native-from-kevin-hoffman%2f" target="_blank" title="Join me on Facebook" class="facebook"><span class="icon icon-facebook"></span>Facebook</a> </li>
                <li> <a href="https://plus.google.com/share?url=https%3a%2f%2fjimmysong.io%2ftalks%2fhigh-level-cloud-native-from-kevin-hoffman%2f" target="_blank" title="Google+" class="googleplus"><span class="icon icon-google-plus"></span>Google+</a> </li>
                <li> <a href="http://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fjimmysong.io%2ftalks%2fhigh-level-cloud-native-from-kevin-hoffman%2f&title=High%20Level%20Cloud%20Native%20From%20Kevin%20Hoffman&source=spf13" target="_blank" title="LinkedIn" class="linkedin"><span class="icon icon-linkedin"></span>LinkedIn</a> </li>
                <li> <a href="http://del.icio.us/post?url=https%3a%2f%2fjimmysong.io%2ftalks%2fhigh-level-cloud-native-from-kevin-hoffman%2f" target="_blank" title="Delicious" class="delicious"><span class="icon icon-delicious"></span>Delicious</a> </li>
                <li> <a href="http://www.reddit.com/submit?url=https%3a%2f%2fjimmysong.io%2ftalks%2fhigh-level-cloud-native-from-kevin-hoffman%2f" target="_blank" title="Reddit" class="reddit"><span class="icon icon-reddit"></span>Reddit</a> </li>
            </ul>
            <span class="subcount">sharing is caring</span>
        </div>
    </li>
    <li id="follow">
        <span class="icon icon-rocket"> </span>
        <span class="title"> follow </span>
        <div class="dropdown follow">
            <ul class="social">
                <li> <a href="http://www.twitter.com/rootsongjc" target="_blank" title="Follow me on Twitter" class="twitter"><span class="icon icon-twitter"></span>Twitter</a> </li>
                <li> <a href="http://www.facebook.com/rootsongjc" target="_blank" title="Join me on Facebook" class="facebook"><span class="icon icon-facebook"></span>Facebook</a> </li>
                <li> <a href="http://www.linkedin.com/in/rootsongjc" target="_blank" title="LinkedIn" class="linkedin"><span class="icon icon-linkedin"></span>LinkedIn</a> </li>
                <li> <a href="http://github.com/rootsongjc" target="_blank" title="GitHub" class="github"><span class="icon icon-github"></span>GitHub</a> </li>
                <li> <a href="https://www.douban.com/people/deamonj/" target="_blank" title="豆瓣" class="facebook"><span class="icon icon-idea"></span>Douban</a> </li>
                <li> <a href="https://rootsongjc.tuchong.com/" target="_blank" title="图虫" class="github"><span class="icon icon-cc-2"></span>Tuchong</a> </li>
            </ul>
            <span class="subcount">join 10k+ subscribers &amp; followers</span>
        </div>
    </li>
</ul>
    </nav>
</header>
 

    <section id="main">
        <h1 itemprop="name" id="title">High Level Cloud Native From Kevin Hoffman</h1>
        <div>
            <article itemprop="articleBody" id="content">
                

<p>Kevin Hoffman(From Capital One, twitter <a href="https://twitter.com/KevinHoffman">@KevinHoffman</a> was making a speech on <em>TalkingData T11 Smart Data Summit</em>.</p>

<p><img src="/media/kevin-hoffman-talking-on-t11.jpg" alt="Kevin Hoffman Talking on T11" /></p>

<p>He addressed that <strong>15 Factors of Cloud Native</strong> which based on Heroku&rsquo;s original <a href="https://12factor.net">Twelve-Factor App</a>, but he add more 3 another factors on it.</p>

<p>Let&rsquo;s have a look at the 15 factors of Cloud Native.</p>

<h2 id="1-one-codebase-one-app">1. One codebase, one App</h2>

<ul>
<li>Single version-controlled codebase, many deploys</li>
<li>Multiple apps should not share code

<ul>
<li>Microservices need separate release schedules</li>
<li>Upgrade, deploy one without impacting others</li>
</ul></li>
<li>Tie build and deploy pipelines to single codebase</li>
</ul>

<h2 id="2-api-first">2. API first</h2>

<ul>
<li>Service ecosystem requires a contract

<ul>
<li>Public API</li>
</ul></li>
<li>Multiple teams on different schedulers

<ul>
<li>Code to contract/API, not code dependencies</li>
</ul></li>
<li>Use well-documented contract standards

<ul>
<li>Protobuf IDL, Swagger, Apiary, etc</li>
</ul></li>
<li>API First != REST first

<ul>
<li>RPC can be more appropriate in some situations</li>
</ul></li>
</ul>

<h2 id="3-dependency-management">3. Dependency Management</h2>

<ul>
<li>Explicitly declare dependencies</li>
<li>Include all dependencies with app release</li>
<li>Create immutable build artifact (e.g. docker image)</li>
<li>Rely on smallest docker image

<ul>
<li>Base on scratch if possible</li>
</ul></li>
<li>App cannot rely on host for system tools or libraries</li>
</ul>

<h2 id="4-design-build-release-run">4. Design, Build, Release, Run</h2>

<ul>
<li>Design part of iterative cycle

<ul>
<li>Agile doesn’t mean random or undesigned</li>
</ul></li>
<li>Mature CI/CD pipeline and teams

<ul>
<li>Design to production in days not months</li>
</ul></li>
<li>Build immutable artifacts</li>
<li>Release automatically deploys to environment

<ul>
<li>Environments contains config, not release artifact</li>
</ul></li>
</ul>

<h2 id="5-configuration-credentials-code">5. Configuration, Credentials, Code</h2>

<ul>
<li>&ldquo;3 Cs&rdquo; volatile substances that explode when combinded</li>
<li>Password in a config file is as bad as password in code</li>
<li>App must accept &ldquo;3 Cs&rdquo; from <strong>environment</strong> and only use harmless defaults</li>
<li>Test - Could you expose code on Github and not reveal passwords, URLs, credentials?</li>
</ul>

<h2 id="6-logs">6. Logs</h2>

<ul>
<li>Emit formatted logs to stdout</li>
<li>Code should not know about destination or purpose of log emissions</li>
<li>Use downstream log aggregator

<ul>
<li>collect, store, process, expose logs</li>
<li>ELK, Splunk, Sumo, etc</li>
</ul></li>
<li>Use <strong>structured</strong> logs to allow query and analysis

<ul>
<li>JSON, csv, KV, etc</li>
</ul></li>
<li>Logs are not metrics</li>
</ul>

<h2 id="7-disposability">7. Disposability</h2>

<ul>
<li>App must start as quickly as possible</li>
<li>App must stop quickly and gracefully</li>
<li>Processes start and stop all the time in the cloud</li>
<li>Every scale up/down disposes of processes</li>
<li>Slow dispose == slow scale</li>
<li>Slow dispose or startup can cause availability gaps</li>
</ul>

<h2 id="8-backing-services">8. Backing Services</h2>

<ul>
<li>Assume all resources supplied by backingservices</li>
<li>Cannotassume mutable file system

<ul>
<li>“Disk as a Service” (e.g. S3, virtual mounts, etc)</li>
</ul></li>
<li>Every backing service is bound resource

<ul>
<li>URL, credentials, etc-&gt; environment config</li>
</ul></li>
<li>Host does not satisfy NFRs

<ul>
<li>Backing services and cloud infrastructure</li>
</ul></li>
</ul>

<h2 id="9-environment-parity">9. Environment Parity</h2>

<ul>
<li>“Works on my machine”

<ul>
<li>Cloud-native anti-pattern. Must <strong>work everywhere</strong></li>
</ul></li>
<li>Every commit is candidate for deployment</li>
<li>Automated acceptance tests

<ul>
<li>Provide no confidence if environments don’t match</li>
</ul></li>
</ul>

<h2 id="10-administrative-processes">10. Administrative Processes</h2>

<ul>
<li>Database migrations</li>
<li>Run-once scripts or jobs</li>
<li>Avoid using for batch operations, consider instead:

<ul>
<li>Event sourcing</li>
<li>Schedulers</li>
<li>Triggers from queues, etc</li>
<li>Lambdas/functions</li>
</ul></li>
</ul>

<h2 id="11-port-binding">11. Port Binding</h2>

<ul>
<li>In cloud, infrastructure determines port</li>
<li>App must accept port assigned by platform</li>
<li>Containers have internal/external ports

<ul>
<li>App design must embrace this</li>
</ul></li>
<li>Never use reserved ports</li>
<li>Beware of container “host mode” networking</li>
</ul>

<h2 id="12-stateless-processes">12. Stateless Processes</h2>

<ul>
<li>What is stateless?</li>
<li>Long-term state handled by a backing service</li>
<li>In-memory state lives onlyas long as request</li>
<li>Requests from same client routed to different instances

<ul>
<li>“Sticky sessions” cloud native anti-pattern</li>
</ul></li>
</ul>

<h2 id="13-concurency">13. Concurency</h2>

<ul>
<li>Scale horizontally using the process model</li>
<li>Build disposable, stateless, share-nothing processes</li>
<li>Avoid adding CPU/RAM to increase scale/throughput</li>
<li>Where possible, let platform/libraries do threading

<ul>
<li>Many single-threaded services &gt; 1 multi-threaded monolith</li>
</ul></li>
</ul>

<h2 id="14-telemetry">14. Telemetry</h2>

<ul>
<li>Monitor apps in the cloud like satellite in orbit</li>
<li>No tether, no live debugger</li>
<li>Application Perf Monitoring (APM)</li>
<li>Domain Telemetry</li>
<li>Health and system logs</li>
</ul>

<h2 id="15-authentication-authorization">15. Authentication &amp; Authorization</h2>

<ul>
<li>Security should never be an afterthought</li>
<li>Auth should be explicit, documented decision

<ul>
<li>Even if anonymous access is allowed</li>
<li>Don’t allow anonymous access</li>
</ul></li>
<li>Bearer tokens/OAuth/OIDC best practices</li>
<li>Audit all attempts to access</li>
</ul>

<h2 id="migrating-monoliths-to-the-cloud">Migrating Monoliths to the Cloud</h2>

<p>After this 15 factors, he also gave us some tips about how to <strong>migrate monoliths to the Cloud</strong>:</p>

<ul>
<li>Make a rule - stop adding to the monolith

<ul>
<li>All new code must be cloud native</li>
</ul></li>
<li>Prioritize features

<ul>
<li>Where will you get most benefit from cloud native?</li>
</ul></li>
<li>Come up with a plan

<ul>
<li>Decompose monolith over time</li>
<li>Fast, agile iterations toward ultimate goal</li>
</ul></li>
<li>Use multiple strategies and patterns</li>
</ul>

<h2 id="go-the-best-language-to-build-cloud-native-app">Go - the Best Language to Build Cloud Native App</h2>

<p>At last, he advise us the programming language Go is the best language to build Cloud Native applications for these reasons below:</p>

<ul>
<li>Lightweight</li>
<li>Easily learning curve</li>
<li>Compiles to native binaries</li>
<li>Very fast</li>
<li>Large, thriving, engaged community

<ul>
<li><a href="http://gopherize.me">http://gopherize.me</a></li>
</ul></li>
</ul>

<p>Kevin also wrote a book <strong>Cloud Native Go</strong> to show how to <strong>Building Web Applications and Microservices for the Cloud with Go and React</strong>. This book has been translated to Chinese by four guys from TalkingData with ❤️. 《Cloud Native Go 构建基于Go和React的云原生Web应用与微服务》published by PHEI publisher house. See the website I built for this book <a href="https://jimmysong.io/cloud-native-go/">https://jimmysong.io/cloud-native-go/</a></p>

<p>Kevin was signing his name on the book</p>

<p><img src="/media/kevin-hoffman-siging-on-the-book.jpg" alt="kevin siging on the book" /></p>

<p>This is his first visit to China, as a main translator of this book I an honored to be with him to take this photo.</p>

<p><img src="/media/kevin-hoffman-with-me.jpg" alt="kevin hoffman with me" /></p>

            </article>
             
            <h2>See Also</h2>
            <ul>
                
                <li><a href="/blogs/creating-cloud-native-app-with-kubernetes/">如何开发部署kubernetes native应用</a></li>
                
                <li><a href="/talks/cloud-native-python/">Cloud Native Python—使用Python和React构建云原生应用</a></li>
                
                <li><a href="/blogs/linkerd-user-guide/">Linkerd 使用指南</a></li>
                
                <li><a href="/talks/migrating-to-cloud-native-architecture/">迁移到云原生应用架构指南</a></li>
                
                <li><a href="/projects/awesome-cloud-native/">Awesome Cloud Native</a></li>
                
            </ul>
            
        </div>
    </section>

    
    

<aside id="meta">

<div>
    <section id="datecount">
        <h4 id="date"> Fri Sep 15, 2017 </h4>
        <h5 id="wc"> 1000 Words </h5>
        <h5 id="readtime"> Read in about 2 Min </h5>
    </section>
    <ul id="categories">
        
    </ul>
    <ul id="tags">
        
        <li> <a href="https://jimmysong.io//tags/cloud-native">cloud-native</a> </li>
        
    </ul>
</div>

<div>
    <section id="prev">
        &nbsp;<a class="previous" href="https://jimmysong.io/blogs/docker-cli-to-kubectl/"><i class="icon-arrow-left"></i> docker用户过度到kubectl命令行指南</a><br>
    </section>
    <section id="next">
        &nbsp;<a class="next" href="https://jimmysong.io/blogs/creating-cloud-native-app-with-kubernetes/">如何开发部署kubernetes native应用 <i class="icon-arrow-right"></i></a>
    </section>
</div>

<div>
    <section id="author">
        <h4>About the Author</h4>
        <p>
            <a href="http://rootsongjc.github.io/about/">Jimmy Song</a> is a software engineer in Beijing, also an open source enthusiast and Big Data, Cloud Native fans. If you not see him front of computer, he must be traveling or taking pictures outside,
            visit the amazing pictures at <a href=https://rootsongjc.tuchong.com/>tuchong(图虫)</a>. Feel free to <a href=https://twitter.com/rootsongjc>follow him on twitter</a>.
        </p>
    </section>

</div>
</aside>

<meta itemprop="wordCount" content="911">
<meta itemprop="datePublished" content="2017-09-15">
<meta itemprop="url" content="https://jimmysong.io/talks/high-level-cloud-native-from-kevin-hoffman/">
 <footer>
    <div>
        <p>
            <a href="https://jimmysong.io/kubernetes-handbook">Kubernetes Handbook</a> |
            <a href="https://jimmysong.io/cloud-native-go">Cloud Native Go</a> |
            <a href="https://jimmysong.io/awesome-cloud-native">Awesome Cloud Native</a> |
            <a href="https://jimmysong.io/migrating-to-cloud-native-application-architectures">Migrating to Cloud Native Application Architectures</a>
    </div>
    <div>
        <p>

        </p>
        <p> &copy; 2013-2017 <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Jimmy Song</span><span>
            Powered by <a href="https://gohugo.io">Hugo</a></span>
            </span>
    </div>
</footer>
</body>

</html>