<!DOCTYPE html>
<html class="no-js" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="baidu-site-verification" content="g8IYR9SNLF" />
    <meta name="uyan_auth" content="419f63884b" /> <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="description" content="">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="keywords" content="kubernetes, cloud-native, ">

 
<meta property="og:type" content="article"/>
<meta property="og:description" content=""/>
<meta property="og:title" content="如何开发部署kubernetes native应用 : jimmysong.io"/>
<meta property="og:site_name" content="rootsongjc is Jimmy Song"/>
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="https://jimmysong.io/blogs/creating-cloud-native-app-with-kubernetes/">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2017-09-14"/>
<meta property="article:modified_time" content="2017-09-14"/>



<meta property="article:tag" content="kubernetes">
<meta property="article:tag" content="cloud-native">




<meta name="twitter:card" content="summary">

<meta name="twitter:site" content="@rootsongjc">
<meta name="twitter:title" content="如何开发部署kubernetes native应用 : jimmysong.io">
<meta name="twitter:creator" content="@rootsongjc">
<meta name="twitter:description" content="">
<meta name="twitter:image:src" content="">
<meta name="twitter:domain" content="jimmysong.io">

    <base href="https://jimmysong.io/">
    <title> 如何开发部署kubernetes native应用 - jimmysong.io focus on Cloud Native & Big Data </title>
    <link rel="canonical" href="https://jimmysong.io/blogs/creating-cloud-native-app-with-kubernetes/"> <link rel="stylesheet" href="https://jimmysong.io/static/css/style.css">


<link href="https://jimmysong.io/static/css/prism.css" rel="stylesheet" />
<script type="text/javascript" src="https://jimmysong.io/static/js/prism.js"></script>


<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?11f7d254cfa4e0ca44b175c66d379ecc";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>





    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
</head>


<body lang="en" itemscope itemtype="http://schema.org/Article">
    <header id="header">
    <figure>
      <a href="/" border=0 id="logolink"><div class="icon-octocat" id="logo"> </div></a>
    </figure>
    <div id="byline">by Jimmy Song</div>
    <nav id="nav">
    <ul id="mainnav">
    <li>
        <a href="/blogs/">
            <span class="icon"> <i aria-hidden="true" class="icon-quill"></i></span>
            <span> blogs </span>
        </a>
    </li>
    <li>
        <a href="/projects/">
            <span class="icon"> <i aria-hidden="true" class="icon-console"></i></span>
            <span> projects </span>
        </a>
    </li>
    <li>
        <a href="/talks/">
            <span class="icon"> <i aria-hidden="true" class="icon-stats"></i></span>
            <span> talks </span>
        </a>
    </li>
    <li>
        <a href="http://www.linkedin.com/in/rootsongjc">
            <span class="icon"> <i aria-hidden="true" class="icon-linkedin"></i></span>
            <span> me </span>
        </a>
    </li>
</ul>
    <ul id="social">
    <li id="share">
        <span class="icon icon-bubbles"> </span>
        <span class="title"> share </span>
        <div class="dropdown share">
            <ul class="social">
                <li> <a href="https://twitter.com/intent/tweet?status=%e5%a6%82%e4%bd%95%e5%bc%80%e5%8f%91%e9%83%a8%e7%bd%b2kubernetes%20native%e5%ba%94%e7%94%a8-https%3a%2f%2fjimmysong.io%2fblogs%2fcreating-cloud-native-app-with-kubernetes%2f" target="_blank" title="Follow me on Twitter" class="twitter"><span class="icon icon-twitter"></span>Twitter</a> </li>
                <li> <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fjimmysong.io%2fblogs%2fcreating-cloud-native-app-with-kubernetes%2f" target="_blank" title="Join me on Facebook" class="facebook"><span class="icon icon-facebook"></span>Facebook</a> </li>
                <li> <a href="https://plus.google.com/share?url=https%3a%2f%2fjimmysong.io%2fblogs%2fcreating-cloud-native-app-with-kubernetes%2f" target="_blank" title="Google+" class="googleplus"><span class="icon icon-google-plus"></span>Google+</a> </li>
                <li> <a href="http://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fjimmysong.io%2fblogs%2fcreating-cloud-native-app-with-kubernetes%2f&title=%e5%a6%82%e4%bd%95%e5%bc%80%e5%8f%91%e9%83%a8%e7%bd%b2kubernetes%20native%e5%ba%94%e7%94%a8&source=spf13" target="_blank" title="LinkedIn" class="linkedin"><span class="icon icon-linkedin"></span>LinkedIn</a> </li>
                <li> <a href="http://del.icio.us/post?url=https%3a%2f%2fjimmysong.io%2fblogs%2fcreating-cloud-native-app-with-kubernetes%2f" target="_blank" title="Delicious" class="delicious"><span class="icon icon-delicious"></span>Delicious</a> </li>
                <li> <a href="http://www.reddit.com/submit?url=https%3a%2f%2fjimmysong.io%2fblogs%2fcreating-cloud-native-app-with-kubernetes%2f" target="_blank" title="Reddit" class="reddit"><span class="icon icon-reddit"></span>Reddit</a> </li>
            </ul>
            <span class="subcount">sharing is caring</span>
        </div>
    </li>
    <li id="follow">
        <span class="icon icon-rocket"> </span>
        <span class="title"> follow </span>
        <div class="dropdown follow">
            <ul class="social">
                <li> <a href="http://www.twitter.com/jimmysongio" target="_blank" title="Follow me on Twitter" class="twitter"><span class="icon icon-twitter"></span>Twitter</a> </li>
                <li> <a href="http://www.facebook.com/jimmysongio" target="_blank" title="Join me on Facebook" class="facebook"><span class="icon icon-facebook"></span>Facebook</a> </li>
                <li> <a href="http://www.linkedin.com/in/jimmysongio" target="_blank" title="LinkedIn" class="linkedin"><span class="icon icon-linkedin"></span>LinkedIn</a> </li>
                <li> <a href="http://github.com/rootsongjc" target="_blank" title="GitHub" class="github"><span class="icon icon-github"></span>GitHub</a> </li>
                <li> <a href="https://www.douban.com/people/deamonj/" target="_blank" title="豆瓣" class="facebook"><span class="icon icon-idea"></span>Douban</a> </li>
                <li> <a href="https://jimmysongio.tuchong.com/" target="_blank" title="图虫" class="github"><span class="icon icon-cc-2"></span>Tuchong</a> </li>
            </ul>
            <span class="subcount">join 10k+ subscribers &amp; followers</span>
        </div>
    </li>
</ul>

    </nav>
</header>
 

    <section id="main">
        <h1 itemprop="name" id="title">如何开发部署kubernetes native应用</h1>
        <div>
            <article itemprop="articleBody" id="content">
                

<h2 id="摘要">摘要</h2>

<p>当我们有了一个kubernetes集群后，如何在上面开发和部署应用，应该遵循怎样的流程？本次分享将向您展示如何使用go语言开发和部署一个kubernetes native应用，使用wercker进行持续集成与持续发布，我将以一个很简单的前后端访问，获取伪造数据并展示的例子来说明。（本文是我在DockOne社区分享的内容）</p>

<p><strong>主要内容</strong></p>

<ul>
<li>服务API的定义</li>
<li>使用Go语言开发kubernetes原生应用</li>
<li>使用wercker做持续构建与发布</li>
<li>使用traefik和VIP做边缘节点提供外部访问路由</li>
</ul>

<h2 id="环境声明">环境声明</h2>

<p>首先声明下我们使用的集群环境：</p>

<ul>
<li>Docker1.12.5</li>
<li>flannel network host-gw</li>
<li>kubernetes 1.6.0</li>
<li>TLS enabled</li>
</ul>

<p>详细的部署文档和更多资料请参考 <a href="https://github.com/rootsongjc/kubernetes-handbook">https://github.com/rootsongjc/kubernetes-handbook</a></p>

<h2 id="应用示例">应用示例</h2>

<p>我们的这两个示例仅仅是为了演示，开发部署一个伪造的 metric 并显示在 web 页面上，包括两个service：</p>

<ul>
<li><a href="https://github.com/rootsongjc/k8s-app-monitor-test">k8s-app-monitor-test</a>：生成模拟的监控数据，发送http请求，获取json返回值，<a href="https://github.com/rootsongjc/k8s-app-monitor-test">https://github.com/rootsongjc/k8s-app-monitor-test</a></li>
<li><a href="https://github.com/rootsongjc/k8s-app-monitor-agent">K8s-app-monitor-agent</a>：获取监控数据并绘图，访问浏览器获取图表，<a href="https://github.com/rootsongjc/k8s-app-monitor-agent">https://github.com/rootsongjc/k8s-app-monitor-agent</a></li>
</ul>

<p>这两个镜像可以直接从docker hub上下载</p>

<ul>
<li>jimmysong/k8s-app-monitor-test:latest</li>
<li>jimmysong/k8s-app-monitor-agent:latest</li>
</ul>

<h3 id="定义api">定义API</h3>

<p>API文档见 <a href="https://github.com/rootsongjc/k8s-app-monitor-test">https://github.com/rootsongjc/k8s-app-monitor-test</a> 中的<code>api.html</code>文件，该文档在API blueprint中定义，使用<a href="https://github.com/danielgtaylor/aglio">aglio</a> 生成，打开后如图所示：</p>

<p><img src="/media/k8s-app-monitor-test-api-doc.jpg" alt="API文档" /></p>

<h3 id="关于服务发现">关于服务发现</h3>

<p><code>K8s-app-monitor-agent</code>服务需要访问<code>k8s-app-monitor-test</code>服务，这就涉及到服务发现的问题，我们在代码中直接写死了要访问的服务的内网DNS地址（kubedns中的地址，即<code>k8s-app-monitor-test.default.svc.cluster.local</code>）。</p>

<p>我们知道Kubernetes在启动Pod的时候为容器注入环境变量，这些环境变量在所有的 namespace 中共享（环境变量是不断追加的，新启动的Pod中将拥有老的Pod中所有的环境变量，而老的Pod中的环境变量不变）。但是既然使用这些环境变量就已经可以访问到对应的service，那么获取应用的地址信息，究竟是使用变量呢？还是直接使用DNS解析来发现？</p>

<p>答案是使用DNS，详细说明见<a href="http://jimmysong.io/blogs/exploring-kubernetes-env-with-docker/">Kubernetes中的服务发现与Docker容器间的环境变量传递源码探究</a></p>

<h3 id="使用wercker构建镜像">使用wercker构建镜像</h3>

<h4 id="ci工具">CI工具</h4>

<p>开源项目的构建离不开CI工具，你可能经常会在很多GitHub的开源项目首页上看到这样的东西：</p>

<p><img src="/media/wercker-budget.jpg" alt="wercker status badge" /></p>

<p>这些图标都是CI工具提供的，可以直观的看到当前的构建状态，例如wercker中可以在<code>Application</code>-<code>magpie</code>-<code>options</code>中看到：</p>

<p><img src="/media/wercker-status-budge-setting.jpg" alt="wercker status badge设置" /></p>

<p>将文本框中的代码复制到你的项目的<code>README</code>文件中，就可以在项目主页上看到这样的标志了。</p>

<p>现在市面上有很多流行的CI/CD工具和DevOps工具有很多，这些工具提高了软件开发的效率，增加了开发人员的幸福感。这些工具有：</p>

<p>适用于GitHub上的开源项目，可以直接使用GitHub账户登陆，对于公开项目可以直接使用：<a href="https://travis-ci.org/">Travis-ci</a>、<a href="https://circleci.com/">CircleCI</a>、<a href="http://www.wercker.com/">Wercker</a>。从目前GitHub上开源项目的使用情况来看，Travis-ci的使用率更高一些。</p>

<p>适用于企业级的：<a href="https://jenkins.io/">Jenkins</a></p>

<p>不仅包括CI/CD功能的DevOps平台：<a href="https://www.jfrog.com/">JFrog</a>、<a href="https://spinnaker.io/">Spinnaker</a>、<a href="https://fabric8.io/">Fabric8</a></p>

<h4 id="wercker简介">Wercker简介</h4>

<p>Wercker是一家为现代云服务提供容器化应用及微服务的快速开发、部署工具的初创企业，成立于2012年，总部位于荷兰阿姆斯特丹。其以容器为中心的平台可以对微服务和应用的开发进行自动化。开发者通过利用其命令行工具能够生成容器到桌面，然后自动生成应用并部署到各种云平台上面。其支持的平台包括Heroku、AWS以及Rackspace等。</p>

<p>Wercker于2016年获得450万美元A轮融资，此轮融资由Inkef Capital领投，Notion Capital跟投，融资所得将用于商业版产品的开发。此轮融资过后其总融资额为750万美元。</p>

<p>Wercker于2017年4月被Oracle甲骨文于收购。</p>

<h4 id="如何使用">如何使用</h4>

<p>通过Wercker搭建CI环境只需经过三个基本步骤。</p>

<p>1．在Wercker网站中创建一个应用程序。</p>

<p>2．将wercker.yml添加到应用程序的代码库中。</p>

<p>3．选择打包和部署构建的位置。</p>

<p>可以使用GitHub帐号直接登录<a href="http://www.wercker.com/">Wercker</a>，整个创建应用CI的流程一共3步。</p>

<p>一旦拥有了账户，那么只需简单地点击位于顶部的<strong>应用程序</strong>菜单，然后选择<strong>创建</strong>选项即可。如果系统提示是否要创建组织或应用程序，请选择<strong>应用程序</strong>。Wercker组织允许多个Wercker用户之间进行协作，而无须提供信用卡。下图为设置新应用程序的向导页面。</p>

<p><img src="/media/wercker-create-application.jpg" alt="向导页面" /></p>

<p>选择了GitHub中的repo之后，第二步配置访问权限，最后一步Wercker会尝试生成一个wercker.yml文件（后面会讨论）。不过至少对于Go应用程序来说，这个配置很少会满足要求，所以我们总是需要创建自己的Wercker配置文件。</p>

<h4 id="创建wercker配置文件wercker-yaml">创建Wercker配置文件Wercker.yaml</h4>

<p>Wercker配置文件是一个YAML文件，该文件必须在GitHub repo的最顶层目录，该文件主要包含三个部分，对应可用的三个主要管道。</p>

<p> <strong>Dev</strong>：定义了开发管道的步骤列表。与所有管道一样，可以选定一个<strong>box</strong>用于构建，也可以全局指定一个box应用于所有管道。box可以是Wercker内置的预制Docker镜像之一，也可以是Docker Hub托管的任何Docker镜像。</p>

<p> <strong>Build</strong>：定义了在Wercker构建期间要执行的步骤和脚本的列表。与许多其他服务（如Jenkins和TeamCity）不同，构建步骤位于代码库的配置文件中，而不是隐藏在服务配置里。</p>

<p> <strong>Deploy</strong>：在这里可以定义构建的部署方式和位置。</p>

<p>Wercker中还有<strong>工作流</strong>的概念，通过使用分支、条件构建、多个部署目标和其他高级功能扩展了管道的功能，这些高级功能读着可以自己在wercker的网站中探索。</p>

<p>因为我使用wercker自动构建，构建完成后自动打包成docker镜像并上传到docker hub中（需要先在docker hub中创建repo），如何使用 wercker 做持续构建与发布，并集成docker hub插件请参考：<a href="https://jimmysong.io/blogs/continuous-integration-with-wercker/">https://jimmysong.io/blogs/continuous-integration-with-wercker/</a></p>

<p>K8s-app-monitor-agent的wercker配置文件如下：</p>

<pre><code class="language-yaml">box: golang

build:

  steps:
    - setup-go-workspace

    - script:
        name: go get
        code: |
          cd $WERCKER_SOURCE_DIR
          go version
          go get -u github.com/Masterminds/glide
          export PATH=$WERCKER_SOURCE_DIR/bin:$PATH
          glide install
    # Build the project
    - script:
        name: go build
        code: |
          go build
    - script:
        name: copy files to wercker output 
        code: |
          cp -R ./ ${WERCKER_OUTPUT_DIR}
deploy:
 steps:
   - internal/docker-push:
       username: $USERNAME
       password: $PASSWORD
       cmd: /pipeline/source/k8s-app-monitor-agent
       port: &quot;3000&quot;
       tag: latest
       repository: jimmysong/k8s-app-monitor-agent
</code></pre>

<p>其中的<code>$USERNAME</code>和<code>$PASSWORD</code>是docker hub的用户名和密码，这些是作为wercker构建时候的环境变量，在wercker的web端进行配置的。</p>

<p>此文件包含两个管道：build和deploy。在开发流程中，我们使用Wercker和Docker创建一个干净的Docker镜像，然后将它push到Docker Hub中。Wercker包含一个叫做<code>Internal/docker-push</code>的deploy plugin，可以将构建好的docker镜像push到镜像仓库中，默认是Docker Hub，也可以配置成私有镜像仓库。</p>

<p>box键的值是golang。这意味着我们使用的是一个基础的Docker镜像，它已经安装了Go环境。这一点至关重要，因为执行Wercker构建的基准Docker镜像需要包含应用程序所需的构建工具。</p>

<p>构建流程见：<a href="https://app.wercker.com/jimmysong/k8s-app-monitor-agent/">https://app.wercker.com/jimmysong/k8s-app-monitor-agent/</a></p>

<blockquote>
<p>当然你还可以使用其他的CI工具，因为wercker的插件比较方便，可以直接构建成docker镜像上传到docker hub中，比较方便，所以我选择了wercker，作为个人项目和开源项目的话可以选择它，企业内部建议选择Jenkins。</p>
</blockquote>

<p>生成了如下两个docker镜像：</p>

<ul>
<li>jimmysong/k8s-app-monitor-test:latest</li>
<li>jimmysong/k8s-app-monitor-agent:latest</li>
</ul>

<h3 id="启动服务">启动服务</h3>

<p>所有的kubernetes应用启动所用的yaml配置文件都保存在那两个GitHub仓库的<code>manifest.yaml</code>文件中。</p>

<p>比如<code>k8s-app-monitor-agent</code>的<code>manifest.yaml</code>文件如下：</p>

<pre><code class="language-yaml">apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: k8s-app-monitor-agent
  namespace: default
spec:
  replicas: 1
  template:
    metadata:
      labels:
        k8s-app: k8s-app-monitor-agent
    spec:
      containers:
      - image: jimmysong/k8s-app-monitor-agent:latest
        imagePullPolicy: Always
        name: app
        ports:
        - containerPort: 8080
        env: 
        - name: APP_PORT
          value: &quot;3000&quot;
        - name: SERVICE_NAME
          value: &quot;k8s-app-monitor-test&quot;
---
apiVersion: v1
kind: Service
metadata:
  name: k8s-app-monitor-agent
  labels:
    k8s-svc: k8s-app-monitor-agent
spec:
  ports:
  - port: 8080
    protocol: TCP
    name: http
  selector:
    k8s-app: k8s-app-monitor-agent
</code></pre>

<p>注意其中的<code>env</code>，包括了两个环境变量（注意：环境变量名称必须为大写字母）：<code>APP_PORT</code>和<code>SERVICE_NAME</code>，这两个环境变量，在 <code>main.go</code>的代码中我们可以看到：</p>

<pre><code class="language-go">func drawChart(res http.ResponseWriter, req *http.Request) {
	port := os.Getenv(&quot;APP_PORT&quot;)
	service := os.Getenv(&quot;SERVICE_NAME&quot;)
	if len(port) == 0 {
		port = &quot;3000&quot;
	}
	if len(service) == 0 {
		service = &quot;localhost&quot;
	}
</code></pre>

<p>如果程序启动的时候找不到该环境变量，将会使用程序内置的默认值，当然我们不该将服务地址写死在程序内部，而应该是可配置的，在kubernetes中最佳配置方式是环境变量或者ConfigMap。</p>

<p>分别在两个GitHub目录下执行<code>kubectl create -f manifest.yaml</code>即可启动服务。</p>

<p><strong>外部访问</strong></p>

<p>服务启动后需要更新ingress配置，在<a href="https://github.com/rootsongjc/kubernetes-handbook/blob/master/manifests/traefik-ingress/ingress.yaml">ingress.yaml</a>文件中增加以下几行：</p>

<pre><code class="language-yaml">  - host: k8s-app-monitor-agent.jimmysong.io
    http:
      paths:
      - path: /
        backend:
          serviceName: k8s-app-monitor-agent
          servicePort: 8080
</code></pre>

<p>保存后，然后执行<code>kubectl replace -f ingress.yaml</code>即可刷新ingress。</p>

<p>修改本机的<code>/etc/hosts</code>文件，在其中加入以下一行：</p>

<pre><code>172.20.0.119 k8s-app-monitor-agent.jimmysong.io
</code></pre>

<p>当然你也可以加入到DNS中，为了简单起见我使用hosts。</p>

<p>在浏览器中访问<a href="http://k8s-app-monitor-agent.jimmysong.io">http://k8s-app-monitor-agent.jimmysong.io</a></p>

<p><img src="/media/k8s-app-monitor-agent.jpg" alt="图表" /></p>

<p>刷新页面将获得新的图表。</p>

<h4 id="边缘节点配置">边缘节点配置</h4>

<p>边缘节点架构图</p>

<p><img src="/media/kubernetes-edge-node-architecture.png" alt="边缘节点架构图" /></p>

<p>选择Kubernetes的三个node作为边缘节点，并安装keepalived，上图展示了边缘节点的配置，同时展示了向Kubernetes中添加服务的过程。</p>

<p><strong>边缘节点定义</strong></p>

<p>首先解释下什么叫边缘节点（Edge Node），所谓的边缘节点即集群内部用来向集群外暴露服务能力的节点，集群外部的服务通过该节点来调用集群内部的服务，边缘节点是集群内外交流的一个Endpoint。</p>

<p><strong>边缘节点要考虑两个问题</strong></p>

<ul>
<li>边缘节点的高可用，不能有单点故障，否则整个kubernetes集群的外部访问将不可用</li>
<li>对外的一致暴露端口，即只能有一个外网访问IP和端口</li>
</ul>

<p>为了满足边缘节点的以上需求，我们使用<a href="http://www.keepalived.org/">keepalived</a>来实现。</p>

<p>在Kubernetes中添加了service的同时，在DNS中增加一个记录，这条记录需要跟ingress中的<code>host</code>字段相同，IP地址即VIP的地址，本示例中是<code>172.20.0.119</code>，这样集群外部就可以通过service的DNS名称来访问服务了。</p>

<p>详细操作步骤和配置请参考：<a href="https://github.com/rootsongjc/kubernetes-handbook/blob/master/practice/edge-node-configuration.md">https://github.com/rootsongjc/kubernetes-handbook/blob/master/practice/edge-node-configuration.md</a></p>

<h2 id="参考">参考</h2>

<p>适用于Kubernetes的应用开发与部署流程详解：<a href="https://jimmysong.io/blogs/deploy-applications-in-kubernetes/">https://jimmysong.io/blogs/deploy-applications-in-kubernetes/</a></p>

<p>示例的项目代码服务器端：<a href="https://app.wercker.com/jimmysong/k8s-app-monitor-agent/">https://app.wercker.com/jimmysong/k8s-app-monitor-agent/</a></p>

<p>示例项目代码前端：<a href="https://github.com/rootsongjc/k8s-app-monitor-agent">https://github.com/rootsongjc/k8s-app-monitor-agent</a></p>

<p>kubernetes-handbok：<a href="https://jimmysong.io/kubernetes-handbook/">https://jimmysong.io/kubernetes-handbook/</a></p>

<p>边缘节点配置：<a href="https://github.com/rootsongjc/kubernetes-handbook/blob/master/practice/edge-node-configuration.md">https://github.com/rootsongjc/kubernetes-handbook/blob/master/practice/edge-node-configuration.md</a></p>

            </article>
             
            <h2>See Also</h2>
            <ul>
                
                <li><a href="/blogs/linkerd-user-guide/">Linkerd 使用指南</a></li>
                
                <li><a href="/blogs/running-spark-with-kubernetes-native-scheduler/">运行支持kubernetes原生调度的spark程序-Spark on Kubernetes</a></li>
                
                <li><a href="/blogs/3-things-every-cto-should-know-about-kubernetes/">每位CTO都该知道的关于kubernetes的三件事</a></li>
                
                <li><a href="/blogs/kubectl-user-authentication-authorization/">kubectl的用户认证授权</a></li>
                
                <li><a href="/blogs/migrating-hadoop-yarn-to-kubernetes/">迁移传统应用到Kubernetes步骤详解——以Hadoop YARN为例</a></li>
                
            </ul>
            
        </div>
    </section>

    

<aside id="meta">

<div>
    <section id="datecount">
        <h4 id="date"> Thu Sep 14, 2017 </h4>
        <h5 id="wc"> 4900 Words </h5>
        <h5 id="readtime"> Read in about 10 Min </h5>
    </section>
    <ul id="categories">
        
    </ul>
    <ul id="tags">
        
        <li> <a href="https://jimmysong.io//tags/kubernetes">kubernetes</a> </li>
        
        <li> <a href="https://jimmysong.io//tags/cloud-native">cloud-native</a> </li>
        
    </ul>
</div>

<div>
    <section id="prev">
        &nbsp;<a class="previous" href="https://jimmysong.io/talks/high-level-cloud-native-from-kevin-hoffman/"><i class="icon-arrow-left"></i> High Level Cloud Native From Kevin Hoffman</a><br>
    </section>
    <section id="next">
        &nbsp;<a class="next" href="https://jimmysong.io/blogs/running-spark-with-kubernetes-native-scheduler/">运行支持kubernetes原生调度的spark程序-Spark on Kubernetes <i class="icon-arrow-right"></i></a>
    </section>
</div>

<div>
    <section id="author">
        <h4>About the Author</h4>
        <p>
            <a href="https://jimmysong.io/about/">Jimmy Song</a> is a software engineer in Beijing, also an open source enthusiast and Big Data, Cloud Native fans. If you not see him front of computer, he must be traveling or taking pictures outside,
            visit the amazing pictures at <a href=https://jimmysongio.tuchong.com/>tuchong(图虫)</a>. Feel free to <a href=https://twitter.com/jimmysongio>follow him on twitter</a>.
        </p>
    </section>

</div>

</aside>

<meta itemprop="wordCount" content="4864">
<meta itemprop="datePublished" content="2017-09-14">
<meta itemprop="url" content="https://jimmysong.io/blogs/creating-cloud-native-app-with-kubernetes/">
 <aside id=comments>
    <div>
        <h2> Comments </h2>
    </div>
    
    
    
    <div id="container"></div>
    <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
    <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
    <script>
        var gitment = new Gitment({
            id: '页面 ID', 
            owner: 'rootsongjc', 
            repo: 'rootsongjc.github.io', 
            oauth: {
                client_id: '93a0df08e0f93ff0c8a3',
                client_secret: '3bdbf0b42c525f78582600bd38cf7f722ee40541',
            },
        })
        gitment.render('container')
    </script>
</aside> <footer>
    <div>
        <p>
            <a href="https://jimmysong.io/kubernetes-handbook">Kubernetes Handbook中文指南/实践手册</a> |
            <a href="https://jimmysong.io/cloud-native-go">Cloud Native Go</a> |
            <a href="https://jimmysong.io/awesome-cloud-native">Awesome Cloud Native</a> |
            <a href="https://jimmysong.io/migrating-to-cloud-native-application-architectures">迁移到云原生应用架构手册</a> |
            <a href="https://istio.doczh.cn/">Istio Service Mesh中文文档</a> |
            <a href="https://jimmysong.io/spark-on-k8s">Spark on Kubernetes</a>
    </div>
    <div>
        <p>

        </p>
        <p> &copy; 2013-2017 <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Jimmy Song</span><span>
            Powered by <a href="https://gohugo.io">Hugo</a></span>
            </span>
    </div>
</footer>


</body>

</html>

    