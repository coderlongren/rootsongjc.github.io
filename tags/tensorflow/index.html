<!DOCTYPE html>
<html class="no-js" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
    <meta charset="utf-8">
    <meta name="baidu-site-verification" content="g8IYR9SNLF" />
    <meta name="uyan_auth" content="419f63884b" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="description" content="">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="keywords" content="">

 
<meta property="og:type" content="article"/>
<meta property="og:description" content=""/>
<meta property="og:title" content="Tensorflow : rootsongjc.github.io"/>
<meta property="og:site_name" content="rootsongjc is Jimmy Song"/>
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="http://rootsongjc.github.io/tags/tensorflow/">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2017-04-05"/>
<meta property="article:modified_time" content="2017-04-05"/>





<meta name="twitter:card" content="summary">

<meta name="twitter:site" content="@rootsongjc">
<meta name="twitter:title" content="Tensorflow : rootsongjc.github.io">
<meta name="twitter:creator" content="@rootsongjc">
<meta name="twitter:description" content="">
<meta name="twitter:image:src" content="">
<meta name="twitter:domain" content="rootsongjc.github.io">

    <base href="http://rootsongjc.github.io/">
    <title> Tensorflow - Jimmy Song </title>
    <link rel="canonical" href="http://rootsongjc.github.io/tags/tensorflow/">

    
<link rel="stylesheet" href="/static/css/style.css">
<script src="https://yandex.st/highlightjs/8.0/highlight.min.js"></script>
<link rel="stylesheet" href="https://yandex.st/highlightjs/8.0/styles/default.min.css">
<script>
    hljs.initHighlightingOnLoad();
</script>

<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?11f7d254cfa4e0ca44b175c66d379ecc";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

<script>
    (function() {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>
<div style='margin:0 auto;width:0px;height:0px;overflow:hidden; '>
    <img src='http://olz1di9xf.bkt.clouddn.com/jimmy.jpg' />
</div>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <script type="text/javascript" src="http://tajs.qq.com/stats?sId=61142324" charset="UTF-8"></script>
</head>

<body lang="en">
<header id="header">
    <figure>
      <a href="/" border=0 id="logolink"><div class="icon-octocat" id="logo"> </div></a>
    </figure>
    <div id="byline">by Jimmy Song</div>
    <nav id="nav">
            <ul id="mainnav">
            <li>
                <a href="/blogs/">
                <span class="icon"> <i aria-hidden="true" class="icon-quill"></i></span>
                <span> blogs </span>
            </a>
            </li>
            <li>
            <a href="/projects/">
                <span class="icon"> <i aria-hidden="true" class="icon-console"></i></span>
                <span> projects </span>
            </a>
            </li>
            <li>
            <a href="/talks/">
                <span class="icon"> <i aria-hidden="true" class="icon-stats"></i></span>
                <span> talks </span>
            </a>
            </li>
            <li>
            <a href="http://www.linkedin.com/in/rootsongjc">
                <span class="icon"> <i aria-hidden="true" class="icon-linkedin"></i></span>
                <span> me </span>
            </a>
            </li>
        </ul>

            <ul id="social">
            <li id="share">
                <span class="icon icon-bubbles"> </span>
                <span class="title"> share </span>
                <div class="dropdown share">
                    <ul class="social">
                      <li> <a href="https://twitter.com/intent/tweet?status=Tensorflow-http%3a%2f%2frootsongjc.github.io%2ftags%2ftensorflow%2f" target="_blank" title="Follow me on Twitter" class="twitter"><span class="icon icon-twitter"></span>Twitter</a> </li>
                        <li> <a href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2frootsongjc.github.io%2ftags%2ftensorflow%2f" target="_blank" title="Join me on Facebook" class="facebook"><span class="icon icon-facebook"></span>Facebook</a> </li>
                        <li> <a href="https://plus.google.com/share?url=http%3a%2f%2frootsongjc.github.io%2ftags%2ftensorflow%2f" target="_blank" title="Google+" class="googleplus"><span class="icon icon-google-plus"></span>Google+</a> </li>
                        <li> <a href="http://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2frootsongjc.github.io%2ftags%2ftensorflow%2f&title=Tensorflow&source=spf13" target="_blank" title="LinkedIn" class="linkedin"><span class="icon icon-linkedin"></span>LinkedIn</a> </li>
                        <li> <a href="http://del.icio.us/post?url=http%3a%2f%2frootsongjc.github.io%2ftags%2ftensorflow%2f" target="_blank" title="Delicious" class="delicious"><span class="icon icon-delicious"></span>Delicious</a> </li>
                        <li> <a href="http://www.reddit.com/submit?url=http%3a%2f%2frootsongjc.github.io%2ftags%2ftensorflow%2f" target="_blank" title="Reddit" class="reddit"><span class="icon icon-reddit"></span>Reddit</a> </li>
                    </ul>
                    <span class="subcount">sharing is caring</span>
                </div>
            </li>
            <li id="follow">
                <span class="icon icon-rocket"> </span>
                <span class="title"> follow </span>
                <div class="dropdown follow">
                    <ul class="social">
                        <li> <a href="http://www.twitter.com/rootsongjc" target="_blank" title="Follow me on Twitter" class="twitter"><span class="icon icon-twitter"></span>Twitter</a> </li>
                        <li> <a href="http://www.facebook.com/rootsongjc" target="_blank" title="Join me on Facebook" class="facebook"><span class="icon icon-facebook"></span>Facebook</a> </li>
                        <li> <a href="http://www.linkedin.com/in/rootsongjc" target="_blank" title="LinkedIn" class="linkedin"><span class="icon icon-linkedin"></span>LinkedIn</a> </li>
                        <li> <a href="http://github.com/rootsongjc" target="_blank" title="GitHub" class="github"><span class="icon icon-github"></span>GitHub</a> </li>
                        <li> <a href="https://www.douban.com/people/deamonj/" target="_blank" title="豆瓣" class="facebook"><span class="icon icon-idea"></span>Douban</a> </li>
                        <li> <a href="https://tuchong.com/1425795/" target="_blank" title="图虫" class="github"><span class="icon icon-cc-2"></span>Tuchong</a> </li>                    </ul>
                    <span class="subcount">join 10k+ subscribers &amp; followers</span>
                </div>
            </li>
          </ul>

    </nav>
</header>


<section id="main">
  <div>
   <h1 id="title">Tensorflow</h1>
    
        <article class="post">
    <header>
      <h2><a href="http://rootsongjc.github.io/blogs/tensorflow-and-deep-learning-without-a-phd/">TensorFlow深度学习手写数字识别初体验 </a> </h2>
      <div class="post-meta">Wed, Apr 5, 2017 </div>
    </header>

    （题图：禾雀 @北京动物园 Apr 3,2017）
前言 TensorFlow学习曲线是陡峭的，不是所有的IT从业人员都很容易参与的，你需要有一定的数学专业知识，对于对深度学习没有经验的程序员，要想了解这门技术，最快捷的途径是先运行一个示例，我们认识事物都是先从感性、到理性的思辨过程。
下面我们来跟随Martin Gorner的TensorFlow and Deep Learing Without a PhD来编写我们的第一个TensorFlow程序——手写数字识别，这篇文章的中文版没有博士学位如何玩转TensorFlow和深度学习于2017年3月13日发表在发表在机器之心上。这篇文章也是根据3月8日-10日的Google Cloud NEXT&rsquo;17大会上Martin Gorner做的讲解整理而成的，教程 | 没有博士学位，照样玩转TensorFlow深度学习这篇文章是对Martin Gorner的简易教程的原文翻译，我们暂时不要求了解TensorFlow背后复杂的理论，我们先跟随这篇简易教程玩一把TensorFlow的手写数字识别。
如果你想深入了解这本后的原理的话，可以查看哈尔滨工业大学社会计算与信息检索研究中心翻译的《神经网络与深度学习》这本书，该书翻译自Neural Networks and Deep Learning的中文翻译，原文作者 Michael Nielsen，而且这还是一本免费的电子书，该书中系统讲解了使用神经网络识别手写数字背后的原理。该书托管在GitBook上，你可以点击这里直接下载该书中文版的PDF。
准备 下载代码
这个代码仓库里包含了手写数字识别和下载依赖的训练数据的代码，我们将只用到mnist_1.0_softmax.py这一个代码文件。整个mnist_1.0_softmax.py代码并不复杂，不算注释的话只有36行。
git clone https://github.com/martin-gorner/tensorflow-mnist-tutorial.git  下载完后，可以看到有一个INSTALL.txt，这篇文章是运行代码所必需的环境要求说明。
安装TensorFlow
我之前写过详细的TensorFlow安装教程TensorFlow实战（才云郑泽宇著）读书笔记——第二章TensorFlow环境搭建，这篇文章中主要讲怎样在docker里安装TensorFlow。
我使用的Mac而且还是python2.7，所以我这样安装：
pip install --upgrade tensorflow --user -U pip install --upgrade matplotlib --user -U  运行示例 运行手写数字训练示例。
python mnist_1.0_softmax.py  运行过程中你会看到一大段输出：
Collecting matplotlib Downloading matplotlib-2.0.0-cp27-cp27m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl (12.8MB) 100% |████████████████████████████████| 12.8MB 26kB/s Requirement already up-to-date: pyparsing!
    <footer>
        <a href='http://rootsongjc.github.io/blogs/tensorflow-and-deep-learning-without-a-phd/'><nobr>Read more →</nobr></a>
    </footer>
</article>

    
        <article class="post">
    <header>
      <h2><a href="http://rootsongjc.github.io/blogs/tensorflow-practice-03/">TensorFlow实战（才云郑泽宇著）读书笔记——第三章TensorFlow入门 </a> </h2>
      <div class="post-meta">Thu, Mar 30, 2017 </div>
    </header>

    （题图：扬州东关 May 24,2015）
这是我阅读才云科技郑泽宇的《TensorFlow实战Google深度学习框架》的读书笔记系列文章，按照文章的章节顺序来写的。整本书的笔记归档在这里。
P.S 本书的官方读者交流微信群（作者也在群里）已经超过100人，您可以先加我微信后我拉您进去，我的二维码在这里，或者直接搜索我的微信号jimmysong。
这一章从三个角度带大家入门。
分别是TensorFlow的
 计算模型 数据模型 运行模型  3.1 TensorFlow的计算模型——图计算 计算图是TensorFlow中的一个最基本的概念，TensorFlow中的所有计算都会转化成计算图上的节点。
其实TensorFlow的名字已经暗示了它的实现方式了，Tensor表示的是数据结构——张量，Flow表示数据流——Tensor通过数据流相互转化。
常用的方法
 在python中导入tensorflow：import tensorflow as tf 获取当前默认的计算图：tf.get_default_graph() 生成新的计算图：tf.Graph()  书中这里都有例子讲解，可以从Github中下载代码，或者如果你使用才云提供的docker镜像的方式安装的话，在jupyter中可以看到各个章节的代码。
定义两个不同的图
import tensorflow as tf g1 = tf.Graph() with g1.as_default(): v = tf.get_variable(&quot;v&quot;, [1], initializer = tf.zeros_initializer) # 设置初始值为0 g2 = tf.Graph() with g2.as_default(): v = tf.get_variable(&quot;v&quot;, [1], initializer = tf.ones_initializer()) # 设置初始值为1 with tf.Session(graph = g1) as sess: tf.global_variables_initializer().run() with tf.variable_scope(&quot;&quot;, reuse=True): print(sess.
    <footer>
        <a href='http://rootsongjc.github.io/blogs/tensorflow-practice-03/'><nobr>Read more →</nobr></a>
    </footer>
</article>

    
        <article class="post">
    <header>
      <h2><a href="http://rootsongjc.github.io/blogs/tensorflow-practice-02/">TensorFlow实战（才云郑泽宇著）读书笔记——第二章TensorFlow环境搭建 </a> </h2>
      <div class="post-meta">Thu, Mar 23, 2017 </div>
    </header>

    （题图：广州海珠桥 Aug 10,2014）
 这是我阅读才云科技郑泽宇的《TensorFlow实战Google深度学习框架》的读书笔记系列文章，按照文章的章节顺序来写的。整本书的笔记归档在这里。
 P.S 本书的官方读者交流微信群（作者也在群里）已经超过100人，您可以先加我微信后我拉您进去，我的二维码在这里，或者直接搜索我的微信号jimmysong。
睇完这一章后应该就可以自己搭建出一个TensorFlow的环境，我之前在docker里玩过，镜像比较大，下载慢一点，不过用起来很方便，如果你仅仅是想试用一下TensorFlow，看看它能干什么的话，可以直接在docker里试用一下。在Mac上安装的详细步骤，官方安装说明文档。
2.1 TensorFlow的主要依赖包 TensorFlow主要用到以下两个依赖：
 Protocol buffer：数据结构化工具。Google开源的结构化数据格式，用于网络传输数据时候的序列化和反序列化，使用的时候需要先定义schema，github地址https://github.com/google/protobuf。分布式TensorFlow使用到额gRPC也是使用Protocol Buffer来组织的， Bazel:自动化编译构建工具。Google开源的，github地址https://github.com/bazelbuild/bazel，它支持多语言、多平台、可重复编译和可伸缩，构建大型软件速度也是很快的。Bazel使用**项目空间**的形式管理编译的，每个项目空间需要包含[BUILD文件](https://github.com/tensorflow/tensorflow/blob/master/bower.BUILD)（定义编译目标）和[WORKSPACE](https://github.com/tensorflow/tensorflow/blob/master/WORKSPACE)文件（定义编译的依赖环境）。这两个文件都有点类似python语法。  2.2 TensorFlow安装 TensorFlow的安装方式包括docker镜像、pip安装、源码编译安装。
我选择最方便的docker镜像方式，其他方式对本地环境做很多配置，折腾起来比较麻烦。
我早就在docker中安装过TensorFlow0.9小试过牛刀。现在1.0.1版本已经released了。TensorFlow的所有版本都有对应的docker镜像发布在docker hub，可以直接docker pull安装。
为了和书中所用的镜像保持统一，我将使用caicloud提供的镜像，基于TensorFlow0.12.0（这个版本是2016年12月20日发布的），他们增加了一些其他机器学习工具包和TensorFlow可视化工具TensorBoard。
docker镜像方式安装
首先下载镜像，这个image比较大，下载下来比较费时间，我用了差不多15分钟吧。
docker pull cargo.caicloud.io/tensorflow/tensorflow:0.12.0  下载下来后我们再check下这个大小为1.41GB镜像的layers。
另外还有个nvidia版本的docker，可以将你电脑的GPU派山用场，我暂时没用到GPU，我电脑装的是docker17.03-ce，就不折腾GPU版本的TensorFlow了。
IMAGE CREATED CREATED BY SIZE COMMENT c8a8409297f2 5 weeks ago /bin/sh -c #(nop) CMD [&quot;/run_tf.sh&quot;] 0 B &lt;missing&gt; 5 weeks ago /bin/sh -c #(nop) COPY file:78332d36244852... 122 B &lt;missing&gt; 5 weeks ago /bin/sh -c #(nop) COPY dir:8b6ab7d235e3975.
    <footer>
        <a href='http://rootsongjc.github.io/blogs/tensorflow-practice-02/'><nobr>Read more →</nobr></a>
    </footer>
</article>

    
        <article class="post">
    <header>
      <h2><a href="http://rootsongjc.github.io/blogs/tensorflow-practice-01/">TensorFlow实战（才云郑泽宇著）读书笔记——第一章深度学习简介 </a> </h2>
      <div class="post-meta">Mon, Mar 20, 2017 </div>
    </header>

    （题图：TensofFlow实战图书封面）
🙏电子工业出版社编辑赠书，能够这么快的拿到这本书，也🙏才云科技的郑泽宇大哥耐心的写了这本书，能够让我等小白一窥深度学习的真容。另外要强烈推荐下这本书，这是本TensorFlow深度学习很好的入门书。书中提供的代码下载地址，整本书的笔记归档在这里。
P.S 本书的官方读者交流微信群（作者也在群里）已经超过100人，您可以先加我微信后我拉您进去，我的二维码在这里，或者直接搜索我的微信号jimmysong。
1.1 人工智能、机器学习与深度学习 这一节是讲解三者之间的关系。
首先以垃圾邮件分类问题引入机器学习的逻辑回归算法。
逻辑回归算法的准确性取决于训练数据中的特征的提取，以及训练的数据数量。
文章中又提了一个从实体中提取特征的例子：通过笛卡尔坐标系活极角坐标系来表示不同颜色的点，看看能否用一条直线划分。这个例子用来说明一旦解决了数据表达和特征提取，很多人工智能的问题就能迎刃而解。
深度学习是机器学习的一个分支，除了能够学习特征和任务之间的关联之外，还能自动从简单特征中提取更加复杂的特征，这是其区别于机器学习的关键点。
总的来说，人工智能&gt;机器学习&gt;深度学习。
1.2深度学习的发展历程 本节介绍了深度网络历史的三个发展阶段。
2012年的ImageNet图像分类竞赛上，深度学习系统AlexNet赢得冠军，自此深度学习作为深层神经网络的代名词而被人熟知。
1.3深度学习的应用 这一节讲的是深度学习的应用，首先还是从ImageNet的图像识别开始，应用到了OCR（提到了卷积神经网络）、语音识别（提到了混合搞高斯模型）、自然语言处理（提到了语料库、单词向量、机器翻译、情感分析）、人机对弈（提到了AlphaGO）。
1.4 深度学习工具介绍与对比 TensorFlow的渊源是Google大脑团队在2011年开发，在内部使用的DistBelief，并赢得了ImageNet 2014年的比赛，TF是其开源版本，还发表了一篇论文TensorFlow: Large-Scale Machine Learning on Heteogeneous Distributed systems，这就跟当年的HDFS、MapReduce一个套路啊。
Google还把它用来做RankBrain和很多其他的产品线上使用。
当然，还有很多其他的深度学习工具，比如Caffe、Deeplearning4j、Torch等不一而足。从各种指标来看，TensorFlow都是目前最受关注的深度学习框架。
    <footer>
        <a href='http://rootsongjc.github.io/blogs/tensorflow-practice-01/'><nobr>Read more →</nobr></a>
    </footer>
</article>

    
  </div>
</section>

<aside id="meta"> </aside>

<footer>
  <div>
    <p>
    &copy; 2013-2017 <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Jimmy Song</span></span>
    Powered by <a href="http://gohugo.io">Hugo</a>.
    </p>
  </div>
</footer>
</body>
</html>

